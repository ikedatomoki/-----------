using System.Collections;
using System.Collections.Generic;
using System.Diagnostics;
using UnityEngine;
using UnityEngine.UI;

public class AppearCalc : MonoBehaviour
{
    // Calculator?i?d???j?I?u?W?F?N?g???i?[????????
    public GameObject targetObject;

    // ?N???b?N???????I?u?W?F?N?g?i?{?^???j???i?[????????
    private GameObject clickedButton;

    // GameManager???????????g??????
    private GameManager gm;

    // Calculator???????????g??????
    private Calculator cl;


    // Start is called before the first frame update
    void Start()
    {
        // ?uGameManager?v???????????I?u?W?F?N?g???T???C???????A?^?b?`??????????Script?i<>?????j??gm???i?[
        gm = GameObject.Find("GameManager").GetComponent<GameManager>();

        // ?{?^?????N???b?N?C?x???g??????
        /*Button button = GetComponent<Button>();
        if (button != null)
        {
            button.onClick.AddListener(OnClick);
        }*/
    }

    // Update is called once per frame
    void Update()
    {

    }

    public void isClicked()
    {
        // ?{?^?????N???b?N????????????GameObject???A?N?e?B?u??????
        if (targetObject != null)
        {
            // ?N???b?N???????I?u?W?F?N?g??????
            clickedButton = UnityEngine.EventSystems.EventSystem.current.currentSelectedGameObject;

            // ?d?????o??
            targetObject.SetActive(true);

            // ?uCalculator?v???????????I?u?W?F?N?g???T???C???????A?^?b?`??????????Script?i<>?????j??cl???i?[
            cl = GameObject.Find("Calculator").GetComponent<Calculator>();

            // ?????????????????????{?^????????????????
            if (clickedButton.tag == "INVButton")
            {
                gm.isAliveINV = true;
                gm.isAliveGET = false;
                cl.INVInput.text = "";
            }
            if (clickedButton.tag == "GETButton")
            {
                gm.isAliveGET = true;
                gm.isAliveINV = false;
                cl.GETInput.text = "";
            }
        }
    }

    /*void OnClick()
    {

        // ?{?^?????N???b?N????????????GameObject???A?N?e?B?u??????
        if (targetObject != null)
        {
            // ?N???b?N???????I?u?W?F?N?g??????
            clickedButton = UnityEngine.EventSystems.EventSystem.current.currentSelectedGameObject;

            // ?d?????o??
            targetObject.SetActive(true);

            // ?uCalculator?v???????????I?u?W?F?N?g???T???C???????A?^?b?`??????????Script?i<>?????j??cl???i?[
            cl = GameObject.Find("Calculator").GetComponent<Calculator>();

            // ?????????????????????{?^????????????????
            if(clickedButton.tag == "INVButton")
            {
                gm.isAliveINV = true;
                gm.isAliveGET = false;
                cl.INVInput.text = "";
            }
            if(clickedButton.tag == "GETButton")
            {
                gm.isAliveGET = true;
                gm.isAliveINV = false;
                cl.GETInput.text = "";
            }
        }
    }*/
}